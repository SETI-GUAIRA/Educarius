<!DOCTYPE html>
<html lang="pt" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/LayoutEducacaoEspecial}">

<section layout:fragment="conteudo">
	<section class="page-section portfolio" id="aulas">
	<div class="container">
 		<div class="row">
	     	<nav aria-label="breadcrumb" class="col-xs-12 col-sm-12 col-md-6">
 				<ol class="breadcrumb nav-breadcrumb">
    				<li class="breadcrumb-item"><a th:href="@{/}">Início</a></li>
    				<li class="breadcrumb-item"><a th:href="@{/educacaoespecial}">Eventos</a></li>
    				<li class="breadcrumb-item"><a th:href="@{/educacaoespecial/eventos/{codigo}(codigo=${palestras.evento.codigo})}">Palestras</a></li>
    				<li class="breadcrumb-item active" aria-current="page" th:text="${palestras.evento.nome}">Aula</li>
  				</ol>
			</nav>
		</div>
	</div>
		<!-- Portfolio Section Heading -->
		<h2	class="page-section-heading text-center text-uppercase text-secondary mb-4"
			th:text="${palestras.nomePalestra}"></h2>
		<h4	class="text-center text-uppercase text-secondary mb-0">Data:			
			<a th:text="${palestras.dataFormadata()}"></a> &nbsp; Início: &nbsp;<a th:text="${palestras.horaFormadata()}"></a>			
		</h4>
			 <input type="hidden" th:field="*{palestras.dataInicial}" id="dataInicial" />		
		<!-- Icon Divider -->
		<div class="divider-custom">
			<div class="divider-custom-line"></div>
			<div class="divider-custom-icon">
				<i class="fas fa-star"></i>
			</div>
			<div class="divider-custom-line"></div>
		</div>
		<div class="container">
			<div class="row">
			    <div class="col-md-2 col-lg-2">
			    <div th:unless="${palestras.fotoNome.isEmpty()}">
                      <img class="fotoPalestrante" th:src="@{'/palestras/downloadFile/'+${palestras.codigo}}"/>
                </div>	
                <div th:if="${palestras.fotoNome.isEmpty()}">	
<!--                      <img class="img-fluid img-thumb " th:src="@{/images/avatar.jpg}" />                        -->
               </div>
			    
			    </div>
				<div class="col-md-10 col-lg-10">
					<h4 class="text-uppercase mb-3" th:utext="${palestras.nomePalestrante}">Nome</h4>
					<div class="col-md-12 col-lg-12 text-justify" th:utext="${palestras.descricaoHtml}"></div>
				</div>
			</div>
            <div class="row" th:unless="${palestras.liberouVideo()}">
               <div class="col-md-12 col-lg-12">
                 <h1 style="text-align:center">Aguarde a liberação do video!</h1>
               </div>
            </div>
			<div class="row" th:if="${palestras.liberouVideo()}">
				<div class="col-md-12 col-lg-12"><br>
					<div class="video-container">
						<iframe width="853" height="480"
							th:src="|https://www.youtube.com/embed/${palestras.urlVideoAula1}|"
							frameborder="0" allowfullscreen> </iframe>
					</div>
				</div>
			</div>
			
			<div class="row" th:if="${palestras.temVideo2()} and ${palestras.liberouVideo()}">
				<div class="col-md-12 col-lg-12">
					<!-- 			<!-- Icon Divider --> 
						<div class="divider-custom">
							<div class="divider-custom-line"></div>
							<div class="divider-custom-icon">
								<i class="fas fa-star"></i>
							</div>
							<div class="divider-custom-line"></div>
						</div>
						<div class="video-container">
							<iframe width="853" height="480"
								th:src="|https://www.youtube.com/embed/${palestras.urlVideoAula2}|"
								frameborder="0" allowfullscreen> </iframe>
						</div>
				</div>
			</div>
<!-- 			<!-- Icon Divider --> 
			<div class="divider-custom">
				<div class="divider-custom-line"></div>
				<div class="divider-custom-icon">
					<i class="fas fa-star"></i>
				</div>
				<div class="divider-custom-line"></div>
			</div>
<!-- 			<div class="row"> -->
<!-- 				<div class="col-md-12 col-lg-12"> -->
<!-- 					<h4 class="text-uppercase mb-3">Referências Bibliográficas</h4> -->
<!-- 					<div class="col-md-12 col-lg-12 text-justify" th:utext="${aula.referenciaBibliograficasHtml}"></div> -->
<!-- 				</div> -->
<!-- 			</div> -->
		</div>
	</section>
</section>

</html>
   <script type="text/javascript">       
        function recarregarPagina(){            
            var data = new Date();  
            
            var dia = String(data.getDate()).padStart(2, '0');
            var mes = String(data.getMonth() + 1).padStart(2, '0');
            var ano = data.getFullYear();
            var dataAtual = ano + '-' + mes + '-' + dia;

            var hora = String(data.getHours());
            var minuto = String(data.getMinutes());
            var segundo = String(data.getSeconds());

            var horaAtual = hora + ':' + minuto + ':' + segundo+"0";
            
            var datainicial = $('#dataInicial').val(); 

            var datahoraA = dataAtual+"T"+ horaAtual;
                
            //console.log('data atual ', dataAtual)   
            console.log('I', datainicial) 
            console.log('A', datahoraA) 
            
           if(datahoraA == datainicial){ 
            	//alert("Novo video foi liberado!");            	                       
            	//window.location = "home";
            	
            	window.location.reload();
            }
              
//             if(date.getHours() == 11 && date.getMinutes() == 45 && date.getSeconds() == 01){ 
//             	alert("Novo video foi liberado!");            	                       
//             	//window.location = "home";
            	
//             	window.location.reload();
//             }
        }
        setInterval( function(){ recarregarPagina(); }, 1000);       
        recarregarPagina();        
    </script>